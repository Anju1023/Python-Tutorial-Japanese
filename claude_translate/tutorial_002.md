---
title: "2. Pythonインタープリタの使い方"
chapter: 2
section: "Python基礎"
prev_chapter: 1
next_chapter: 3
exam_weight: "中"
key_concepts: ["インタープリタ起動", "対話モード", "スクリプト実行", "エンコーディング"]
estimated_time: "25分"
---

<!-- claude_translate/tutorial_002.md -->

# 2. Pythonインタープリタの使い方

## 2.1. インタープリタを起動する方法

### Unixシステム(MacやLinux)の場合

Pythonインタープリタは通常、`/usr/local/bin/python3.9` にインストールされてるよ。

**起動方法:**
1. `/usr/local/bin` をシェルの検索パス(PATH)に追加しておく
2. ターミナルで以下のコマンドを打つ:
   ```bash
   python3.9
   ```

**注意点:**
- インストール場所は設定で変えられるから、他の場所にある可能性もある
- わかんなかったら、詳しい人(Pythonの先生とかシステム管理者)に聞いてみて!
- `/usr/local/python` も人気の場所だよ

**豆知識:**
Unixでは、Python 3.x のインタープリタは `python` という名前ではインストールされないのがデフォルト。これは Python 2.x と共存できるようにするためなんだ!

### Windowsの場合

#### Microsoft Store版をインストールした場合
- `python3.9` コマンドが使える

#### py.exe ランチャーがある場合
- `py` コマンドが使える
- これが一番簡単かも!

**その他の起動方法:**
環境変数の設定とか、他にも色々方法があるから、詳しくは公式ドキュメントの「Excursus: Setting environment variables」を見てね。

### インタープリタを終了する方法

**方法1: キーボードショートカット**
- **Unix系(Mac/Linux)**: `Control-D`
- **Windows**: `Control-Z`

これでインタープリタが終了して、終了ステータス0(正常終了)で戻るよ。

**方法2: コマンドで終了**
上のショートカットが効かない時は、こう打つ:
```python
quit()
```

### 便利な編集機能(GNU Readline対応システムの場合)

インタープリタには色々便利な機能があるよ:
- **対話的編集**: コマンドラインで編集できる
- **ヒストリー機能**: 前に打ったコマンドを呼び出せる
- **コード補完**: タブキーで補完できる

**機能が使えるか確認する方法:**
1. Pythonのプロンプト(`>>>`)が出たら `Control-P` を押す
2. **ビープ音が鳴った** → 編集機能が使える!
3. **何も起こらないか `^P` って表示された** → 編集機能なし(バックスペースしか使えない...)

使える場合は、公式ドキュメントの「Interactive Input Editing and History Substitution」を見て、キー操作を覚えよう!

## インタープリタの動作パターン

インタープリタは、Unixのシェルみたいに動くよ:

### パターン1: 対話モード
- **条件**: 標準入力がttyデバイス(端末)に接続されてる時
- **動作**: コマンドを読んで、その場で実行する

### パターン2: スクリプト実行
- **条件**: ファイル名を引数で渡すか、ファイルを標準入力にする
- **動作**: そのファイルからスクリプトを読んで実行する

## 色々な起動方法

### 方法1: コマンドを直接実行
```bash
python -c command [arg] ...
```

**説明:**
- `command` の部分に書いたPython文を実行する
- シェルの `-c` オプションと同じ感じ

**注意:**
- Python文にはスペースとかシェルの特殊文字が入ってることが多い
- だから全体をシングルクォート `'` で囲むのがおすすめ!

**例:**
```bash
python -c 'print("Hello, World!")'
```

### 方法2: モジュールをスクリプトとして実行
```bash
python -m module [arg] ...
```

**説明:**
- モジュールのソースファイルを実行する
- フルネームをコマンドラインに打った時と同じ

**どんな時に使う?**
- Pythonの一部のモジュールは、スクリプトとしても便利に使えるんだ
- 例: `python -m http.server` でWebサーバーが立つ!

### 方法3: スクリプト実行後に対話モードへ
```bash
python -i script.py
```

**説明:**
- スクリプト実行後、自動で対話モードに入る
- デバッグとか、スクリプトの結果を確認したい時に便利!

**全部のコマンドラインオプションを知りたい?**
公式ドキュメントの「Command line and environment」を見てね!

## 2.1.1. 引数の受け渡し

スクリプト名と引数は、どうやってPythonプログラム内で取得するの?

### sys.argv に格納される

インタープリタは、スクリプト名と引数を文字列のリストに変換して、`sys` モジュールの `argv` 変数に代入するよ。

**使い方:**
```python
import sys
# sys.argv にアクセスできる
```

### sys.argv の内容

`sys.argv` のリストには最低でも1個は要素が入ってる:

| 起動方法                             | `sys.argv[0]` の中身   |
| ------------------------------------ | ---------------------- |
| スクリプト名も引数もなし             | 空文字列 `''`          |
| スクリプト名が `'-'`(標準入力の意味) | `'-'`                  |
| `-c command` で起動                  | `'-c'`                 |
| `-m module` で起動                   | モジュールのフルネーム |

**引数の扱い:**
- `-c command` や `-m module` の**後ろ**にある引数は、Pythonインタープリタでは処理されない
- そのまま `sys.argv` に残されて、コマンドやモジュール側で処理できるようになってる

**具体例:**
```bash
python -c 'import sys; print(sys.argv)' hello world
# 出力: ['-c', 'hello', 'world']
```

```bash
python script.py arg1 arg2
# script.py 内で import sys すると
# sys.argv = ['script.py', 'arg1', 'arg2']
```

## 2.1.2. 対話モード

### 対話モードって何?

コマンドをtty(端末)から読み込む時、インタープリタは**対話モード**になるよ。

### プロンプトの種類

**プライマリプロンプト(主プロンプト):**
```python
>>>
```
- 次のコマンドを入力待ちしてる状態
- 通常は `>>>` (大なり記号3つ)

**セカンダリプロンプト(副プロンプト):**
```python
...
```
- 複数行の続きを入力する時に出る
- デフォルトは `...` (ドット3つ)

### 起動時のメッセージ

対話モードで起動すると、最初にこんな感じのメッセージが出るよ:

```bash
$ python3.9
Python 3.9 (default, June 4 2019, 09:25:04)
[GCC 4.8.2] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>>
```

**内容:**
- バージョン番号
- 著作権表示
- その他の情報

### 複数行の入力(継続行)

複数行の構文を入力する時は、継続行が必要だよ。

**例: if文**
```python
>>> the_world_is_flat = True
>>> if the_world_is_flat:
...     print("Be careful not to fall off!")
...
Be careful not to fall off!
```

**ポイント:**
1. `if the_world_is_flat:` の後でEnter
2. セカンダリプロンプト `...` が出る
3. インデントして `print(...)` を入力
4. もう一度Enterで空行を入力
5. 実行される!

**もっと詳しく知りたい?**
公式ドキュメントの「Interactive Mode」を見てね。

## 2.2. インタープリタとその環境

### 2.2.1. ソースコードのエンコーディング

#### デフォルトはUTF-8

Pythonのソースファイルは、デフォルトで**UTF-8**としてエンコードされるよ。

**UTF-8の何がいいの?**
- 世界中のほとんどの言語の文字が使える!
- 文字列リテラル、識別子、コメントで同時に使える

**注意点:**
- 標準ライブラリは識別子にASCII文字しか使ってない
- 移植性の高いコードを書きたいなら、この慣習に従おう

**エディタの設定:**
これらの文字を正しく表示するには:
1. エディタがファイルをUTF-8として認識してること
2. ファイル内のすべての文字をサポートするフォントを使ってること

#### エンコーディングを変更する方法

デフォルト以外のエンコーディングを使いたい時は、**特別なコメント行**をファイルの**1行目**に追加するよ。

**構文:**
```python
# -*- coding: encoding -*-
```

`encoding` の部分には、Pythonがサポートする有効な[コーデック名](https://docs.python.org/3.9/library/codecs.html)を書く。

**例: Windows-1252エンコーディングを使う場合**
```python
# -*- coding: cp1252 -*-
```

これをソースファイルの1行目に書く。

#### 例外: シバン(shebang)行がある場合

UNIXの「シバン行」で始まるソースコードの場合は、エンコーディング宣言を**2行目**に追加してね。

**例:**
```python
#!/usr/bin/env python3
# -*- coding: cp1252 -*-
```

**シバン行って何?**
- Unix系OSで、どのインタープリタで実行するかを指定する行
- `#!/usr/bin/env python3` とか
- ファイルを実行可能にして `./script.py` で直接実行できるようになる

## まとめ

この章では、Pythonインタープリタの基本的な使い方を学んだよ!( ˶'ᵕ'˶)

**覚えておくポイント:**
- 起動方法はいくつかある(対話モード、スクリプト実行、コマンド実行など)
- `sys.argv` で引数を取得できる
- 対話モードは実験やテストに便利
- デフォルトはUTF-8だけど、必要なら変更できる

次の章からは、いよいよPythonの機能を実際に使っていくよ!楽しみだね〜✨

---

## 📝 この章の重要ポイント

### 🎯 試験頻出ポイント
- **インタープリタの起動方法**: `python3.9`、`py`コマンド
- **終了方法**: `Control-D`(Unix)、`Control-Z`(Windows)、`quit()`
- **sys.argv**: コマンドライン引数のリスト（最初はスクリプト名）
- **対話モード**: プライマリプロンプト`>>>`、セカンダリプロンプト`...`

### 💡 覚えておくべきキーワード
- **対話モード**: インタープリタとの対話的な操作
- **スクリプト実行**: ファイルからPythonコードを実行
- **エンコーディング**: デフォルトはUTF-8、`# -*- coding: encoding -*-`で変更
- **シバン行**: Unix系での実行可能スクリプト`#!/usr/bin/env python3`

### ⚡ よくある間違い
- **プロンプトも入力**: `>>>`や`...`は入力しない
- **エンコーディング宣言の位置**: 1行目（シバン行がある場合は2行目）
- **引数の順序**: `sys.argv[0]`はスクリプト名、引数は`sys.argv[1]`から

---

**次の章**: [3. Pythonの非公式入門](tutorial_003.md)