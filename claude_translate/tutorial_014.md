---
title: "14. インタラクティブ入力の編集とヒストリ置換"
chapter: 14
section: "高度な機能"
prev_chapter: 13
next_chapter: 15
exam_weight: "低"
key_concepts: ["タブ補完", "ヒストリ編集", "GNU Readline", "IPython", "bpython"]
estimated_time: "15分"
---

<!-- claude_translate/tutorial_014.md -->

# 14. インタラクティブ入力の編集とヒストリ置換

一部のバージョンのPythonインタープリタは、現在の入力行の編集とヒストリ置換をサポートしているよ。これはKornシェルやGNU Bashシェルにある機能と似ているんだ。これは**GNU Readlineライブラリ**を使って実装されていて、さまざまなスタイルの編集をサポートしているよ。このライブラリには独自のドキュメントがあるから、ここでは重複して説明しないね。

---

## 14.1. タブ補完とヒストリ編集

変数名とモジュール名の補完は、インタープリタの起動時に**自動的に有効化**されるよ。だからTabキーを押すと補完機能が呼び出されるんだ。これは以下を見てくれる：

- Python文の名前
- 現在のローカル変数
- 利用可能なモジュール名

`string.a`のようなドット付きの式の場合、最後の`.`までの式を評価してから、結果のオブジェクトの属性から補完候補を提案してくれるよ。

**注意点：**
`__getattr__()`メソッドを持つオブジェクトが式の一部である場合、アプリケーション定義のコードが実行される可能性があるよ。

デフォルト設定では、ヒストリをユーザーディレクトリの`.python_history`という名前のファイルに保存するんだ。このヒストリは、次のインタラクティブインタープリタセッションでも使えるよ。

---

## 14.2. インタラクティブインタープリタの代替

この機能は、以前のバージョンのインタープリタと比べると大きな進歩なんだけど、まだいくつか要望は残っているんだ：

- 継続行で適切なインデントを提案してくれたらいいな（パーサーは次にインデントトークンが必要かどうかわかっているから）
- 補完メカニズムがインタープリタのシンボルテーブルを使えたらいいな
- 対応する括弧、引用符などをチェック（または提案）するコマンドがあったら便利だな

### 強化されたインタラクティブインタープリタ

かなり前から存在している代替の強化インタラクティブインタープリタの1つが**IPython**だよ。以下の機能があるんだ：

- タブ補完
- オブジェクト探索
- 高度なヒストリ管理

徹底的にカスタマイズできて、他のアプリケーションに組み込むこともできるよ。

もう1つの似たような強化インタラクティブ環境が**bpython**だよ。

---

## 簡単なまとめ

- **タブ補完**: 変数名やモジュール名を自動補完してくれる
- **ヒストリ保存**: `.python_history`ファイルに履歴が保存される
- **代替ツール**: もっと高機能なものが使いたければIPythonやbpythonがおすすめ

---

## 📝 この章の重要ポイント

### 🎯 試験頻出ポイント
- **タブ補完**: 変数名、モジュール名の自動補完機能
- **ヒストリ機能**: `.python_history`ファイルに履歴保存
- **GNU Readline**: 編集機能を提供するライブラリ
- **代替インタープリタ**: IPython、bpythonなどの高機能版

### 💡 覚えておくべきキーワード
- **タブ補完**: Tabキーで名前の自動補完
- **ヒストリ置換**: 過去のコマンドの再利用
- **IPython**: 高機能なインタラクティブシェル
- **bpython**: もう一つの強化インタープリタ
- **GNU Readline**: コマンドライン編集ライブラリ

### ⚡ よくある間違い
- **補完機能を知らない**: Tabキーで効率的に入力できる
- **ヒストリを活用しない**: 上下矢印キーで過去のコマンドを呼び出せる
- **標準インタープリタのみ使用**: IPythonなどでより快適に開発できる

---

**次の章**: [15. 浮動小数点演算：問題と制限](tutorial_015.md)